document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("segments-container"),t=document.getElementById("apply-filters"),a=[],d=e=>{if(!e||"string"!=typeof e)return 1/0;let t=e.split(":");return 2!==t.length?1/0:60*parseInt(t[0],10)+parseInt(t[1],10)},l=t=>{e.innerHTML="",t.filter(Boolean).forEach(t=>{let a=document.createElement("div");a.classList.add("col-md-4","mb-4");let d=document.createElement("div");d.classList.add("card","h-100");let l=document.createElement("div");l.classList.add("card-body");let n=document.createElement("h5");n.classList.add("card-title");let s=document.createElement("a");s.href=`https://www.strava.com/segments/${t.id}`,s.target="_blank",s.textContent=t.name,n.appendChild(s),l.appendChild(n);let r=document.createElement("p");r.classList.add("card-text");let m=document.createElement("a");m.href=`https://www.strava.com/segments/${t.id}`,m.target="_blank",m.textContent=`ID: ${t.id}`,r.appendChild(m),l.appendChild(r);let p=document.createElement("p");p.classList.add("card-text");let o=(parseFloat(t.distance)/1e3).toFixed(2);p.textContent=`Distance: ${o} km`,l.appendChild(p);let c=document.createElement("p");c.classList.add("card-text"),c.textContent=`Attempts: ${t.attempts.attempts} by ${t.attempts.people} people`,l.appendChild(c);let i=document.createElement("h6");i.classList.add("card-subtitle","mb-2","text-muted"),i.textContent="Leaderboard",l.appendChild(i);let u=document.createElement("ul");u.classList.add("list-group","list-group-flush"),t.leaderboard.forEach(e=>{let t=document.createElement("li");t.classList.add("list-group-item"),t.textContent=`${e.position}. ${e.time} (${e.pace}/km)`,u.appendChild(t)}),l.appendChild(u),d.appendChild(l),a.appendChild(d),e.appendChild(a)})};l(a=getSegmentsFromLocalFile().filter(Boolean).filter(e=>e?.attempts&&Array.isArray(e?.leaderboard))),t.addEventListener("click",()=>{let e=[...a],t=parseFloat(document.getElementById("min-distance").value)||0,n=parseFloat(document.getElementById("max-distance").value)||1/0,s=parseInt(document.getElementById("min-attempts").value,10)||0,r=parseInt(document.getElementById("max-attempts").value,10)||1/0,m=parseInt(document.getElementById("min-people").value,10)||0,p=parseInt(document.getElementById("max-people").value,10)||1/0,o=parseFloat(document.getElementById("min-leaderboard-first").value)||0,c=parseFloat(document.getElementById("max-leaderboard-first").value)||1/0,i=parseFloat(document.getElementById("min-leaderboard-last").value)||0,u=parseFloat(document.getElementById("max-leaderboard-last").value)||1/0;e=e.filter(e=>{let a=parseFloat(e.distance)/1e3,l=d(e.leaderboard[0]?.pace),E=d(e.leaderboard[e.leaderboard.length-1]?.pace);return a>=t&&a<=n&&e.attempts.attempts>=s&&e.attempts.attempts<=r&&e.attempts.people>=m&&e.attempts.people<=p&&l>=o&&l<=c&&E>=i&&E<=u});let E=document.getElementById("sort-by").value,g=document.getElementById("sort-order").value;e.sort((e,t)=>{let a,l;switch(E){case"distance":a=parseFloat(e.distance),l=parseFloat(t.distance);break;case"attempts":a=e.attempts.attempts,l=t.attempts.attempts;break;case"people":a=e.attempts.people,l=t.attempts.people;break;case"leaderboard-speed":a=d(e.leaderboard[0]?.pace),l=d(t.leaderboard[0]?.pace);break;default:a=e.name.toLowerCase(),l=t.name.toLowerCase()}return a<l?"asc"===g?-1:1:a>l?"asc"===g?1:-1:0}),l(e)})});
//# sourceMappingURL=public.84b96e35.js.map
